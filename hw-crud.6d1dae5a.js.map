{"mappings":"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","sources":["<anon>","src/script.js","src/api/get-stidents-api.js","src/api/dellsudents.js","src/api/postSud.js","src/api/updateStud.js"],"sourcesContent":["const $6b5bd633a60c2adf$export$46b02f38dba9461c = ()=>{\n    return fetch(\"http://localhost:3000/students\").then((res)=>res.json());\n};\n\n\nconst $d8d27b6b00cf667a$export$e554aafccd320c6e = (id)=>{\n    return fetch(`http://localhost:3000/students/${id}`, {\n        method: \"DELETE\"\n    }).then((res)=>res.json());\n};\n\n\nconst $c30ca5c26ffb44f7$export$ca5ea48288c6b70f = (students)=>{\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(students),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    return fetch(\"http://localhost:3000/students\", options).then((res)=>res.json());\n};\n\n\nconst $5bf773bfdea354b1$export$c114977266af5e1b = (id, students)=>{\n    const options = {\n        method: \"PUT\",\n        body: JSON.stringify(students),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    return fetch(`http://localhost:3000/students/${id}`, options).then((res)=>res.json());\n};\n\n\nconst $2aac3885343dc6b2$var$tableRef = document.querySelector(\"tbody\");\nconst $2aac3885343dc6b2$var$getBtn = document.querySelector(\"#get-students-btn\");\nconst $2aac3885343dc6b2$var$addStudentsForm = document.getElementById(\"add-student-form\");\nlet $2aac3885343dc6b2$var$currentEdit = null;\n// =====================\n// Render\n// =====================\nfunction $2aac3885343dc6b2$var$renderStudents(arr) {\n    $2aac3885343dc6b2$var$tableRef.innerHTML = arr.map(({ id: id, name: name, age: age, course: course, skills: skills, email: email, isEnrolled: isEnrolled })=>`\n      <tr data-id=\"${id}\">\n        <td>${id}</td>\n        <td>${name}</td>\n        <td>${age}</td>\n        <td>${course}</td>\n        <td>${skills}</td>\n        <td>${email}</td>\n        <td>${isEnrolled ? \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438\\u0439\" : \"\\u041D\\u0435\\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438\\u0439\"}</td>\n        <td>\n          <button type=\"button\" data-action=\"delete\">\\u{412}\\u{438}\\u{434}\\u{430}\\u{43B}\\u{438}\\u{442}\\u{438}</button>\n          <button type=\"button\" data-action=\"edit\">\\u{420}\\u{435}\\u{434}\\u{430}\\u{433}\\u{443}\\u{432}\\u{430}\\u{442}\\u{438}</button>\n        </td>\n      </tr>\n    `).join(\"\");\n}\n// =====================\n// Get students\n// =====================\n$2aac3885343dc6b2$var$getBtn.addEventListener(\"click\", async ()=>{\n    const students = await (0, $6b5bd633a60c2adf$export$46b02f38dba9461c)();\n    $2aac3885343dc6b2$var$renderStudents(students);\n});\n// =====================\n// Add / Update student\n// =====================\nasync function $2aac3885343dc6b2$var$addStudent(event) {\n    event.preventDefault();\n    const elements = event.currentTarget.elements;\n    const studentData = {\n        name: elements.name.value.trim(),\n        age: elements.age.value.trim(),\n        course: elements.course.value.trim(),\n        skills: elements.skills.value.trim(),\n        email: elements.email.value.trim(),\n        isEnrolled: elements.isEnrolled.checked\n    };\n    if ($2aac3885343dc6b2$var$currentEdit) {\n        await (0, $5bf773bfdea354b1$export$c114977266af5e1b)($2aac3885343dc6b2$var$currentEdit, studentData);\n        $2aac3885343dc6b2$var$currentEdit = null;\n    } else await (0, $c30ca5c26ffb44f7$export$ca5ea48288c6b70f)(studentData);\n    const students = await (0, $6b5bd633a60c2adf$export$46b02f38dba9461c)();\n    $2aac3885343dc6b2$var$renderStudents(students);\n    $2aac3885343dc6b2$var$addStudentsForm.reset();\n}\n$2aac3885343dc6b2$var$addStudentsForm.addEventListener(\"submit\", $2aac3885343dc6b2$var$addStudent);\n// =====================\n// Delete / Edit (Event Delegation)\n// =====================\n$2aac3885343dc6b2$var$tableRef.addEventListener(\"click\", async (event)=>{\n    const action = event.target.dataset.action;\n    if (!action) return;\n    const row = event.target.closest(\"tr\");\n    const id = row.dataset.id;\n    if (action === \"delete\") {\n        await (0, $d8d27b6b00cf667a$export$e554aafccd320c6e)(id);\n        const students = await (0, $6b5bd633a60c2adf$export$46b02f38dba9461c)();\n        $2aac3885343dc6b2$var$renderStudents(students);\n    }\n    if (action === \"edit\") {\n        $2aac3885343dc6b2$var$currentEdit = id;\n        const cells = row.children;\n        $2aac3885343dc6b2$var$addStudentsForm.elements.name.value = cells[1].textContent;\n        $2aac3885343dc6b2$var$addStudentsForm.elements.age.value = cells[2].textContent;\n        $2aac3885343dc6b2$var$addStudentsForm.elements.course.value = cells[3].textContent;\n        $2aac3885343dc6b2$var$addStudentsForm.elements.skills.value = cells[4].textContent;\n        $2aac3885343dc6b2$var$addStudentsForm.elements.email.value = cells[5].textContent;\n        $2aac3885343dc6b2$var$addStudentsForm.elements.isEnrolled.checked = cells[6].textContent === \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438\\u0439\";\n    }\n});\n\n\n//# sourceMappingURL=hw-crud.6d1dae5a.js.map\n","import { getStudentsAPI } from \"./api/get-stidents-api.js\";\r\nimport { delStudAPI } from \"./api/dellsudents.js\";\r\nimport { postStudAPI } from \"./api/postSud.js\";\r\nimport { updateStudApi } from \"./api/updateStud.js\";\r\n\r\nconst tableRef = document.querySelector(\"tbody\");\r\nconst getBtn = document.querySelector(\"#get-students-btn\");\r\nconst addStudentsForm = document.getElementById(\"add-student-form\");\r\n\r\nlet currentEdit = null;\r\n\r\n\r\n// =====================\r\n// Render\r\n// =====================\r\nfunction renderStudents(arr) {\r\n  tableRef.innerHTML = arr.map(\r\n    ({ id, name, age, course, skills, email, isEnrolled }) => `\r\n      <tr data-id=\"${id}\">\r\n        <td>${id}</td>\r\n        <td>${name}</td>\r\n        <td>${age}</td>\r\n        <td>${course}</td>\r\n        <td>${skills}</td>\r\n        <td>${email}</td>\r\n        <td>${isEnrolled ? \"Активний\" : \"Неактивний\"}</td>\r\n        <td>\r\n          <button type=\"button\" data-action=\"delete\">Видалити</button>\r\n          <button type=\"button\" data-action=\"edit\">Редагувати</button>\r\n        </td>\r\n      </tr>\r\n    `\r\n  ).join(\"\");\r\n}\r\n\r\n\r\n// =====================\r\n// Get students\r\n// =====================\r\ngetBtn.addEventListener(\"click\", async () => {\r\n  const students = await getStudentsAPI();\r\n  renderStudents(students);\r\n});\r\n\r\n\r\n// =====================\r\n// Add / Update student\r\n// =====================\r\nasync function addStudent(event) {\r\n  event.preventDefault();\r\n\r\n  const elements = event.currentTarget.elements;\r\n\r\n  const studentData = {\r\n    name: elements.name.value.trim(),\r\n    age: elements.age.value.trim(),\r\n    course: elements.course.value.trim(),\r\n    skills: elements.skills.value.trim(),\r\n    email: elements.email.value.trim(),\r\n    isEnrolled: elements.isEnrolled.checked\r\n  };\r\n\r\n  if (currentEdit) {\r\n    await updateStudApi(currentEdit, studentData);\r\n    currentEdit = null;\r\n  } else {\r\n    await postStudAPI(studentData);\r\n  }\r\n\r\n  const students = await getStudentsAPI();\r\n  renderStudents(students);\r\n\r\n  addStudentsForm.reset();\r\n}\r\n\r\naddStudentsForm.addEventListener(\"submit\", addStudent);\r\n\r\n\r\n// =====================\r\n// Delete / Edit (Event Delegation)\r\n// =====================\r\ntableRef.addEventListener(\"click\", async (event) => {\r\n  const action = event.target.dataset.action;\r\n  if (!action) return;\r\n\r\n  const row = event.target.closest(\"tr\");\r\n  const id = row.dataset.id;\r\n\r\n  if (action === \"delete\") {\r\n    await delStudAPI(id);\r\n\r\n    const students = await getStudentsAPI();\r\n    renderStudents(students);\r\n  }\r\n\r\n  if (action === \"edit\") {\r\n    currentEdit = id;\r\n\r\n    const cells = row.children;\r\n\r\n    addStudentsForm.elements.name.value = cells[1].textContent;\r\n    addStudentsForm.elements.age.value = cells[2].textContent;\r\n    addStudentsForm.elements.course.value = cells[3].textContent;\r\n    addStudentsForm.elements.skills.value = cells[4].textContent;\r\n    addStudentsForm.elements.email.value = cells[5].textContent;\r\n    addStudentsForm.elements.isEnrolled.checked =\r\n      cells[6].textContent === \"Активний\";\r\n  }\r\n});\r\n","export const getStudentsAPI = () => {\r\n    return fetch(\"http://localhost:3000/students\").then((res) => res.json())\r\n}","export const delStudAPI = (id) => {\r\n    return fetch(`http://localhost:3000/students/${id}`, {\r\n        method: \"DELETE\",\r\n    }).then((res) => res.json());\r\n}","export const postStudAPI = (students) => {\r\n    const options = {\r\n        method: \"POST\",\r\n        body: JSON.stringify(students),\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=UTF-8\",\r\n        },\r\n    };\r\n    return fetch(\"http://localhost:3000/students\", options).then((res) => res.json());\r\n};","export const updateStudApi = (id, students) => {\r\n    const options = {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(students),\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=UTF-8\",\r\n\r\n        }\r\n    }\r\n\r\n    return fetch(`http://localhost:3000/students/${id}`, options).then((res) => res.json())\r\n}"],"names":["$6b5bd633a60c2adf$export$46b02f38dba9461c","fetch","then","res","json","$2aac3885343dc6b2$var$tableRef","document","querySelector","$2aac3885343dc6b2$var$getBtn","$2aac3885343dc6b2$var$addStudentsForm","getElementById","$2aac3885343dc6b2$var$currentEdit","$2aac3885343dc6b2$var$renderStudents","arr","innerHTML","map","id","name","age","course","skills","email","isEnrolled","join","$2aac3885343dc6b2$var$addStudent","event","preventDefault","elements","currentTarget","studentData","value","trim","checked","method","body","JSON","stringify","headers","reset","addEventListener","action","target","dataset","row","closest","cells","children","textContent"],"version":3,"file":"hw-crud.6d1dae5a.js.map"}